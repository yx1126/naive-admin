import{d as H,f as s,B as X,i as W,aa as N,o as K,a9 as G,cD as ee,c6 as q,_ as D,j as T,k as R,p as $,bw as te,cq as Y,v as x,F as j,bx as E,h as J,bz as le,l as i,an as oe,m as d,s as ne,q as M,ch as L,aq as C,n as F,as as se,ar as ae,x as O,at as re,au as ue}from"../assets/index.d6b43ed6.js";import{_ as ie}from"./InputNumber-4735cc08.js";function Q(e,a,f){if(!window.ResizeObserver)return()=>{};const l=new ResizeObserver(a);return l.observe(e,f),()=>{l.unobserve(e),l.disconnect()}}const ce=H({name:"ScrollBar",props:{height:{type:Number},maxHeight:{type:Number},native:{type:Boolean,default:!1},always:{type:Boolean,default:!1},minSize:{type:Number,default:20},xScrollable:{type:Boolean,default:!1},isResize:{type:Boolean,default:!1}},emits:["scroll"],setup(e,{emit:a,expose:f}){const l=s(null),S=s(null),b=s(null);let r,n;const u=s(!1),v=s(0),h=s(0),c=s(0),y=s(0);X(()=>[e.height,e.maxHeight,e.minSize,e.xScrollable],()=>{e.native||N(o)}),X(()=>e.isResize,async t=>{!e.xScrollable||(await N(),t?n==null||n():n=Q(l.value,()=>o()))},{immediate:!0});function o(){if(!l.value)return;const{xScrollable:t}=e,{offsetWidth:p,offsetHeight:_,scrollWidth:g,scrollHeight:w,parentNode:z}=l.value,{offsetWidth:k,offsetHeight:B}=z;u.value=t?g>k:w>B,v.value=Math.max(t?p**2/g:_**2/w,e.minSize),h.value=t?g-p:w-_,c.value=(t?p:_)-v.value}function V(t,p){ee(t)?l.value.scrollTo(t):q(t)&&q(p)&&l.value.scrollTo(t,p)}function A(t){const p=t.target;y.value=p[e.xScrollable?"scrollLeft":"scrollTop"]/h.value*c.value,a("scroll",t)}function m(t){var k;if(t.stopPropagation(),t.ctrlKey||[1,2].includes(t.button))return;(k=window.getSelection())==null||k.removeAllRanges(),t.stopImmediatePropagation(),r=document.onselectstart,document.onselectstart=()=>!1;const p=e.xScrollable?S.value:b.value;let _=0;const g=getComputedStyle(p).transform;if(g!=="none"){const B=(g.match(/\((.+)\)/)[1]||"").split(",");_=Number(B[B.length-(e.xScrollable?2:1)])}function w(B){const{xScrollable:P}=e,I=(P?B.clientX-t.clientX:B.clientY-t.clientY)+_,Z=I<0?0:I>c.value?c.value:I;l.value[P?"scrollLeft":"scrollTop"]=Z/c.value*h.value}function z(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",z),document.onselectstart!==r&&(document.onselectstart=r)}document.addEventListener("mousemove",w),document.addEventListener("mouseup",z)}return W(async()=>{await N(),e.native||o()}),K(()=>{n==null||n()}),G(o),f({scrollTo:V}),{scrollViewRef:l,horizontalThumbRef:S,verticalThumbRef:b,isExistScroll:u,translateXY:y,thumbSize:v,onScroll:A,onMousedown:m,scrollTo:V}}});const me={key:0,class:"scroll-bar__bar is-horizontal"},de={key:1,class:"scroll-bar__bar is-vertical"};function fe(e,a,f,l,S,b){return T(),R("div",{class:Y(["",["scroll-bar",{"is-hover":!e.always}]])},[$("div",{ref:"scrollViewRef",class:Y(["scroll-bar__view",{"scroll-bar__view--hidden-default":!e.native}]),style:x({height:e.height?e.height+"px":e.height,maxHeight:e.maxHeight?e.maxHeight+"px":e.maxHeight}),onScroll:a[0]||(a[0]=(...r)=>e.onScroll&&e.onScroll(...r))},[te(e.$slots,"default",{},void 0,!0)],38),!e.native&&e.isExistScroll?(T(),R(j,{key:0},[e.xScrollable?(T(),R("div",me,[$("div",{ref:"horizontalThumbRef",class:"scroll-bar__thumb",style:x({transform:`translateX(${e.translateXY}px)`,width:e.thumbSize+"px"}),onMousedown:a[1]||(a[1]=(...r)=>e.onMousedown&&e.onMousedown(...r))},null,36)])):(T(),R("div",de,[$("div",{ref:"verticalThumbRef",class:"scroll-bar__thumb",style:x({transform:`translateY(${e.translateXY}px)`,height:e.thumbSize+"px"}),onMousedown:a[2]||(a[2]=(...r)=>e.onMousedown&&e.onMousedown(...r))},null,36)]))],64)):E("v-if",!0)],2)}const U=D(ce,[["render",fe],["__scopeId","data-v-8ee741bf"],["__file","/home/runner/work/naive-admin/naive-admin/src/source-code/components/ScrollBar/ScrollBar.vue"]]),pe=H({name:"VirtualScroll",components:{Item:H({name:"VirtualScrollItem",props:{compoment:{type:[Object,Function,String],required:!0},props:{type:Object,default:()=>({})}},setup(){return{}},render(){return J(this.compoment,this.props)}})},props:{data:{type:Array,default:()=>[]},compoment:{type:[Object,Function,String],required:!0},props:{type:Object,default:()=>({})},height:{type:Number},maxHeight:{type:Number},native:{type:Boolean,default:!1},always:{type:Boolean,default:!1},minSize:{type:Number,default:20},isResize:{type:Boolean,default:!1},keep:{type:Number,default:30}},emits:["scroll"],setup(e,{emit:a,expose:f}){const l=s(null),S=s(null),b=s(null);let r,n;const u=s(!1),v=s(0),h=s(0),c=s(0),y=s(0);X(()=>[e.height,e.maxHeight,e.minSize],()=>{e.native||N(o)}),X(()=>e.isResize,async m=>{await N(),m?n==null||n():n=Q(l.value,()=>o())},{immediate:!0});function o(){if(!l.value)return;const{offsetHeight:m,scrollHeight:t,parentNode:p}=l.value,{offsetHeight:_}=p;u.value=t>_,v.value=Math.max(m**2/t,e.minSize),h.value=t-m,c.value=m-v.value}function V(m){const t=m.target;y.value=t.scrollTop/h.value*c.value,a("scroll",m)}function A(m){var w;if(m.stopPropagation(),m.ctrlKey||[1,2].includes(m.button))return;(w=window.getSelection())==null||w.removeAllRanges(),m.stopImmediatePropagation(),r=document.onselectstart,document.onselectstart=()=>!1;let t=0;const p=getComputedStyle(b.value).transform;if(p!=="none"){const z=(p.match(/\((.+)\)/)[1]||"").split(",");t=Number(z[z.length-1])}function _(z){const k=z.clientY-m.clientY+t,B=k<0?0:k>c.value?c.value:k;l.value.scrollTop=B/c.value*h.value}function g(){document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",g),document.onselectstart!==r&&(document.onselectstart=r)}document.addEventListener("mousemove",_),document.addEventListener("mouseup",g)}return W(async()=>{await N(),e.native||o()}),K(()=>{n==null||n()}),G(o),f({}),{scrollViewRef:l,horizontalThumbRef:S,verticalThumbRef:b,isExistScroll:u,translateXY:y,thumbSize:v,onScroll:V,onMousedown:A}}});const ve={key:0,class:"scroll-bar__bar is-vertical"};function he(e,a,f,l,S,b){const r=le("Item");return T(),R("div",{class:Y(["",["scroll-bar",{"is-hover":!e.always}]])},[$("div",{ref:"scrollViewRef",class:Y(["scroll-bar__view",{"scroll-bar__view--hidden-default":!e.native}]),style:x({height:e.height?e.height+"px":e.height,maxHeight:e.maxHeight?e.maxHeight+"px":e.maxHeight}),onScroll:a[0]||(a[0]=(...n)=>e.onScroll&&e.onScroll(...n))},[i(r,{compoment:e.compoment,props:e.props},null,8,["compoment","props"])],38),!e.native&&e.isExistScroll?(T(),R("div",ve,[$("div",{ref:"verticalThumbRef",class:"scroll-bar__thumb",style:x({transform:`translateY(${e.translateXY}px)`,height:e.thumbSize+"px"}),onMousedown:a[1]||(a[1]=(...n)=>e.onMousedown&&e.onMousedown(...n))},null,36)])):E("v-if",!0)],2)}const _e=D(pe,[["render",he],["__scopeId","data-v-52bc6b2c"],["__file","/home/runner/work/naive-admin/naive-admin/src/source-code/components/VirtualScroll/VirtualScroll.vue"]]),be=e=>(re("data-v-65cf3b1a"),e=e(),ue(),e),ye=be(()=>$("h1",null,"system-set",-1)),Se={class:"box-wrapper"},ge=H({name:"SystemSet"}),we=H({...ge,setup(e){const a=H({name:"NP",props:{text:{type:[String,Number],default:"1"}},render(){return J("p",{class:"p"},this.text)}}),f=s(1e4),l=s(1e3),S=s(),b=s();function r(n){n==="x"?b.value.scrollTo({left:l.value}):n==="y"&&S.value.scrollTo({top:f.value})}return(n,u)=>{const v=ie,h=se,c=ae,y=ne;return T(),oe(y,{class:"system-set"},{default:d(()=>[ye,i(c,null,{default:d(()=>[E(" \u865A\u62DF\u6EDA\u52A8 "),i(y,{class:"scrollbar-wrapper"},{footer:d(()=>[i(c,null,{default:d(()=>[i(v,{value:M(f),"onUpdate:value":u[0]||(u[0]=o=>L(f)?f.value=o:null),step:1e3,placeholder:"scrollTo"},null,8,["value"]),i(h,{type:"primary",onClick:u[1]||(u[1]=o=>r("y"))},{default:d(()=>[C("scroll")]),_:1})]),_:1})]),default:d(()=>[i(M(_e),{ref:"scrollBarV2Ref",compoment:M(a),props:{class:"p"},"max-height":400},null,8,["compoment"])]),_:1}),E(" \u6A2A\u5411\u6EDA\u52A8 "),i(y,{class:"scrollbar-wrapper"},{footer:d(()=>[i(c,null,{default:d(()=>[i(v,{value:M(f),"onUpdate:value":u[2]||(u[2]=o=>L(f)?f.value=o:null),step:1e3,placeholder:"scrollTo"},null,8,["value"]),i(h,{type:"primary",onClick:u[3]||(u[3]=o=>r("y"))},{default:d(()=>[C("scroll")]),_:1})]),_:1})]),default:d(()=>[i(M(U),{ref_key:"scrollBarRef",ref:S,"max-height":400},{default:d(()=>[(T(),R(j,null,F(400,o=>$("p",{key:o,class:"p p1"},O(o),1)),64))]),_:1},512)]),_:1}),E(" \u7EB5\u5411\u6EDA\u52A8 "),i(y,{class:"scrollbar-wrapper"},{footer:d(()=>[i(c,null,{default:d(()=>[i(v,{value:M(l),"onUpdate:value":u[4]||(u[4]=o=>L(l)?l.value=o:null),step:100,placeholder:"scrollTo"},null,8,["value"]),i(h,{type:"primary",onClick:u[5]||(u[5]=o=>r("x"))},{default:d(()=>[C("scroll")]),_:1})]),_:1})]),default:d(()=>[i(M(U),{ref_key:"scrollBarXRef",ref:b,"x-scrollable":"",always:""},{default:d(()=>[$("div",Se,[(T(),R(j,null,F(40,o=>$("p",{key:o,class:"p p2"},O(o),1)),64))])]),_:1},512)]),_:1})]),_:1})]),_:1})}}});const Te=D(we,[["__scopeId","data-v-65cf3b1a"],["__file","/home/runner/work/naive-admin/naive-admin/src/views/set/system-set.vue"]]);export{Te as default};
