import{d as T,u as M,af as k,f as H,g as s,c2 as S,Q as $,_ as O,aX as n,j as f,a7 as _,m as a,l as o,v as B,p as V,aU as z,aT as F}from"../assets/index-9c5b5408.js";import{H as P,T as I,M as N,L as U,_ as j,a as A,b as Q}from"./Logo-d769d71b.js";import{C as R,B as W,_ as X}from"./Breadcrumb-a4850545.js";import"./index-01a74a32.js";import"./index-e6578343.js";import"./index-4d04f9ba.js";import"./RadioGroup-06900a0f.js";import"./Forward-f1c18f40.js";import"./InputNumber-64463c14.js";import"./Grid-9db9efab.js";import"./use-fullscreen-4873b57e.js";import"./ReloadOutlined-bb09ffba.js";import"./Avatar-84478da0.js";import"./Dropdown-7d0a4aba.js";import"./create-ref-setter-f485918b.js";import"./use-deounce-4c48a549.js";const q=T({name:"MixinLayout",components:{Header:P,Tags:I,Menu:N,Logo:U,Collapse:R,Breadcrumb:W},props:{nativeScrollbar:{type:Boolean,default:!0},menuOptions:{type:Array,default:()=>[]},tagsFixed:{type:Boolean,default:!0},collapsed:{type:Boolean,default:!0},inverted:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},onScroll:{type:Function,default:void 0}},emits:["update:collapsed"],setup(e,{emit:b}){const p=M(),c=k(),m=H(!0),C=s(()=>["dark"].includes(c.navMode)),i=s(()=>c.isCutMenu),d=s(()=>{var t;return(t=p.matched.filter(l=>l.path)[0])==null?void 0:t.path}),h=s(()=>c.isShowTabs),v=s(()=>e.tagsFixed&&h.value?S.tagsHeight:0),u=s(()=>{const t=e.menuOptions.find(r=>r.path===d.value),l=((t==null?void 0:t.children)||[]).map(r=>({...r,icon:r.icon||(t==null?void 0:t.icon)}));return i.value?l:e.menuOptions});$(()=>p.fullPath,()=>{p.fullPath.startsWith("/redirect")||(m.value=u.value.length>0)},{immediate:!0});const g=s(()=>{const t={collapsed:e.collapsed,width:64},l={collapsed:!0,width:0};return i.value?m.value?t:l:t});function y(t){b("update:collapsed",t)}return{defaultInverted:C,isCutMenu:i,defaultValue:d,menuChildrensOptions:u,isShowSilder:m,state:g,onUpdateCollapsed:y,isShowTabs:h,contentTop:v,LayoutConfig:S}}}),D={class:"layout-sider-wrapper"};function E(e,b,p,c,m,C){const i=n("Logo"),d=n("Menu"),h=n("Breadcrumb"),v=n("Header"),u=j,g=X,y=n("Collapse"),t=n("Tags"),l=n("Portal"),r=n("portal-target"),L=A,w=Q;return f(),_(w,{class:"layout-wrapper layout-wrapper-mixin"},{default:a(()=>[o(u,{class:"layout-header",inverted:e.defaultInverted,bordered:""},{default:a(()=>[o(i,{width:200,height:e.LayoutConfig.headerHeight},null,8,["height"]),o(v,null,{left:a(()=>[e.isCutMenu?(f(),_(d,{key:0,mode:"horizontal",value:e.defaultValue,collapsed:!1,inverted:e.defaultInverted,options:e.menuOptions,"children-field":"noChild"},null,8,["value","inverted","options"])):(f(),_(h,{key:1}))]),_:1})]),_:1},8,["inverted"]),o(w,{"has-sider":"",position:"absolute",style:B(`top: ${e.LayoutConfig.headerHeight}px`)},{default:a(()=>[V("div",D,[o(g,{class:"layout-sider",collapsed:e.state.collapsed,"collapse-mode":"width","collapsed-width":e.state.width,width:200,bordered:"",inverted:e.inverted,"content-style":"height: 100%;","native-scrollbar":e.nativeScrollbar,"show-trigger":e.isShowSilder?e.showTrigger:!1,"on-update:collapsed":e.onUpdateCollapsed},{default:a(()=>[o(d,{inverted:e.inverted,options:e.menuChildrensOptions},null,8,["inverted","options"])]),_:1},8,["collapsed","collapsed-width","inverted","native-scrollbar","show-trigger","on-update:collapsed"]),o(y,{class:"mixin-collapse",collapsed:e.state.collapsed,size:e.state.collapsed?24:22,width:200,border:e.inverted?"top":"top,right",inverted:e.inverted,"collapsed-width":e.state.width},null,8,["collapsed","size","border","inverted","collapsed-width"])]),o(w,{class:"n-layout-main"},{default:a(()=>[o(l,{to:"layout-tags",disabled:e.tagsFixed},{default:a(()=>[e.isShowTabs?(f(),_(u,{key:0,class:"layout-tags",bordered:""},{default:a(()=>[o(t)]),_:1})):z("",!0)]),_:1},8,["disabled"]),o(L,{class:"layout-content",position:"absolute",style:B(`top: ${e.contentTop}px; bottom: 0`),"native-scrollbar":e.nativeScrollbar,"on-scroll":e.onScroll},{default:a(()=>[o(r,{name:"layout-tags"}),F(e.$slots,"default")]),_:3},8,["style","native-scrollbar","on-scroll"])]),_:3})]),_:3},8,["style"])]),_:3})}const ue=O(q,[["render",E],["__file","/home/runner/work/naive-admin/naive-admin/src/Layout/layout/MixinLayout.vue"]]);export{ue as default};
