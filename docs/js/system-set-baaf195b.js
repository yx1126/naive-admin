import{d as H,f as r,Q as X,$ as k,i as q,o as A,P as W,bO as J,bP as P,_ as C,j as T,k as R,p as z,aT as Z,bo as V,v as M,aU as K,h as D,aX as ee,l as c,a7 as te,m,q as N,am as I,aa as L,n as j,F as O,ac as le,ab as oe,s as ne,ad as ae,ae as se,x as U}from"../assets/index-5b64e5b7.js";import{_ as re}from"./InputNumber-6edd9413.js";function Q(e,i,d){if(!window.ResizeObserver)return()=>{};const l=new ResizeObserver(i);return l.observe(e,d),()=>{l.unobserve(e),l.disconnect()}}const ue=H({name:"ScrollBar",props:{height:{type:Number},maxHeight:{type:Number},native:{type:Boolean,default:!1},always:{type:Boolean,default:!1},minSize:{type:Number,default:20},xScrollable:{type:Boolean,default:!1},isResize:{type:Boolean,default:!1}},emits:["scroll"],setup(e,{emit:i,expose:d}){const l=r(null),g=r(null);let _,n;const u=r(!1),s=r(0),b=r(0),f=r(0),p=r(0);X(()=>[e.height,e.maxHeight,e.minSize,e.xScrollable],()=>{e.native||k(v)}),X(()=>e.isResize,async t=>{e.xScrollable&&(await k(),t?n==null||n():n=Q(l.value,()=>v()))},{immediate:!0});function v(){if(!l.value)return;const{xScrollable:t}=e,{offsetWidth:a,offsetHeight:S,scrollWidth:y,scrollHeight:w,parentNode:$}=l.value,{offsetWidth:h,offsetHeight:B}=$;u.value=t?y>h:w>B,s.value=Math.max(t?a**2/y:S**2/w,e.minSize),b.value=t?y-a:w-S,f.value=(t?a:S)-s.value}function o(t,a){J(t)?l.value.scrollTo(t):P(t)&&P(a)&&l.value.scrollTo(t,a)}function Y(t){const a=t.target;p.value=a[e.xScrollable?"scrollLeft":"scrollTop"]/b.value*f.value,i("scroll",t)}function E(t){var $;if(t.stopPropagation(),t.ctrlKey||[1,2].includes(t.button))return;($=window.getSelection())==null||$.removeAllRanges(),t.stopImmediatePropagation(),_=document.onselectstart,document.onselectstart=()=>!1;let a=0;const S=getComputedStyle(g.value).transform;if(S!=="none"){const h=(S.match(/\((.+)\)/)[1]||"").split(",");a=Number(h[h.length-(e.xScrollable?2:1)])}function y(h){const{xScrollable:B}=e,x=(B?h.clientX-t.clientX:h.clientY-t.clientY)+a,G=x<0?0:x>f.value?f.value:x;l.value[B?"scrollLeft":"scrollTop"]=G/f.value*b.value}function w(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",w),document.onselectstart!==_&&(document.onselectstart=_)}document.addEventListener("mousemove",y),document.addEventListener("mouseup",w)}return q(async()=>{await k(),e.native||v()}),A(()=>{n==null||n()}),W(v),d({scrollTo:o}),{scrollViewRef:l,thumbRef:g,isExistScroll:u,translateXY:p,thumbSize:s,onScroll:Y,onMousedown:E,scrollTo:o}}});function ie(e,i,d,l,g,_){return T(),R("div",{class:V(["",["scroll-bar",{"is-hover":!e.always}]])},[z("div",{ref:"scrollViewRef",class:V(["scroll-bar__view",{"scroll-bar__view--hidden-default":!e.native}]),style:M({height:e.height?e.height+"px":e.height,maxHeight:e.maxHeight?e.maxHeight+"px":e.maxHeight}),onScroll:i[0]||(i[0]=(...n)=>e.onScroll&&e.onScroll(...n))},[Z(e.$slots,"default",{},void 0,!0)],38),!e.native&&e.isExistScroll?(T(),R("div",{key:0,class:V(["scroll-bar__bar",e.xScrollable?"is-horizontal":"is-vertical"])},[z("div",{ref:"thumbRef",class:"scroll-bar__thumb",style:M({transform:`translate${e.xScrollable?"X":"Y"}(${e.translateXY}px)`,[e.xScrollable?"width":"height"]:e.thumbSize+"px"}),onMousedown:i[1]||(i[1]=(...n)=>e.onMousedown&&e.onMousedown(...n))},null,36)],2)):K("",!0)],2)}const F=C(ue,[["render",ie],["__scopeId","data-v-8ee741bf"],["__file","/home/runner/work/naive-admin/naive-admin/src/source-code/components/ScrollBar/ScrollBar.vue"]]),ce=H({name:"VirtualScroll",components:{Item:H({name:"VirtualScrollItem",props:{compoment:{type:[Object,Function,String],required:!0},props:{type:Object,default:()=>({})}},setup(){return{}},render(){return D(this.compoment,this.props)}})},props:{data:{type:Array,default:()=>[]},compoment:{type:[Object,Function,String],required:!0},props:{type:Object,default:()=>({})},height:{type:Number},maxHeight:{type:Number},native:{type:Boolean,default:!1},always:{type:Boolean,default:!1},minSize:{type:Number,default:20},isResize:{type:Boolean,default:!1},keep:{type:Number,default:30}},emits:["scroll"],setup(e,{emit:i,expose:d}){const l=r(null),g=r(null),_=r(null);let n,u;const s=r(!1),b=r(0),f=r(0),p=r(0),v=r(0);X(()=>[e.height,e.maxHeight,e.minSize],()=>{e.native||k(o)}),X(()=>e.isResize,async t=>{await k(),t?u==null||u():u=Q(l.value,()=>o())},{immediate:!0});function o(){if(!l.value)return;const{offsetHeight:t,scrollHeight:a,parentNode:S}=l.value,{offsetHeight:y}=S;s.value=a>y,b.value=Math.max(t**2/a,e.minSize),f.value=a-t,p.value=t-b.value}function Y(t){const a=t.target;v.value=a.scrollTop/f.value*p.value,i("scroll",t)}function E(t){var $;if(t.stopPropagation(),t.ctrlKey||[1,2].includes(t.button))return;($=window.getSelection())==null||$.removeAllRanges(),t.stopImmediatePropagation(),n=document.onselectstart,document.onselectstart=()=>!1;let a=0;const S=getComputedStyle(_.value).transform;if(S!=="none"){const h=(S.match(/\((.+)\)/)[1]||"").split(",");a=Number(h[h.length-1])}function y(h){const B=h.clientY-t.clientY+a,x=B<0?0:B>p.value?p.value:B;l.value.scrollTop=x/p.value*f.value}function w(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",w),document.onselectstart!==n&&(document.onselectstart=n)}document.addEventListener("mousemove",y),document.addEventListener("mouseup",w)}return q(async()=>{await k(),e.native||o()}),A(()=>{u==null||u()}),W(o),d({}),{scrollViewRef:l,horizontalThumbRef:g,verticalThumbRef:_,isExistScroll:s,translateXY:v,thumbSize:b,onScroll:Y,onMousedown:E}}});const me={key:0,class:"scroll-bar__bar is-vertical"};function de(e,i,d,l,g,_){const n=ee("Item");return T(),R("div",{class:V(["",["scroll-bar",{"is-hover":!e.always}]])},[z("div",{ref:"scrollViewRef",class:V(["scroll-bar__view",{"scroll-bar__view--hidden-default":!e.native}]),style:M({height:e.height?e.height+"px":e.height,maxHeight:e.maxHeight?e.maxHeight+"px":e.maxHeight}),onScroll:i[0]||(i[0]=(...u)=>e.onScroll&&e.onScroll(...u))},[c(n,{compoment:e.compoment,props:e.props},null,8,["compoment","props"])],38),!e.native&&e.isExistScroll?(T(),R("div",me,[z("div",{ref:"verticalThumbRef",class:"scroll-bar__thumb",style:M({transform:`translateY(${e.translateXY}px)`,height:e.thumbSize+"px"}),onMousedown:i[1]||(i[1]=(...u)=>e.onMousedown&&e.onMousedown(...u))},null,36)])):K("",!0)],2)}const fe=C(ce,[["render",de],["__scopeId","data-v-52bc6b2c"],["__file","/home/runner/work/naive-admin/naive-admin/src/source-code/components/VirtualScroll/VirtualScroll.vue"]]),pe=e=>(ae("data-v-65cf3b1a"),e=e(),se(),e),ve=pe(()=>z("h1",null,"system-set",-1)),he={class:"box-wrapper"},_e=H({name:"SystemSet"}),be=H({..._e,setup(e){const i=H({name:"NP",props:{text:{type:[String,Number],default:"1"}},render(){return D("p",{class:"p"},this.text)}}),d=r(1e4),l=r(1e3),g=r(),_=r();function n(u){u==="x"?_.value.scrollTo({left:l.value}):u==="y"&&g.value.scrollTo({top:d.value})}return(u,s)=>{const b=re,f=le,p=oe,v=ne;return T(),te(v,{class:"system-set"},{default:m(()=>[ve,c(p,null,{default:m(()=>[c(v,{class:"scrollbar-wrapper"},{footer:m(()=>[c(p,null,{default:m(()=>[c(b,{value:N(d),"onUpdate:value":s[0]||(s[0]=o=>I(d)?d.value=o:null),step:1e3,placeholder:"scrollTo"},null,8,["value"]),c(f,{type:"primary",onClick:s[1]||(s[1]=o=>n("y"))},{default:m(()=>[L("scroll")]),_:1})]),_:1})]),default:m(()=>[c(N(fe),{ref:"scrollBarV2Ref",compoment:N(i),props:{class:"p"},"max-height":400},null,8,["compoment"])]),_:1}),c(v,{class:"scrollbar-wrapper"},{footer:m(()=>[c(p,null,{default:m(()=>[c(b,{value:N(d),"onUpdate:value":s[2]||(s[2]=o=>I(d)?d.value=o:null),step:1e3,placeholder:"scrollTo"},null,8,["value"]),c(f,{type:"primary",onClick:s[3]||(s[3]=o=>n("y"))},{default:m(()=>[L("scroll")]),_:1})]),_:1})]),default:m(()=>[c(N(F),{ref_key:"scrollBarRef",ref:g,"max-height":400},{default:m(()=>[(T(),R(O,null,j(400,o=>z("p",{key:o,class:"p p1"},U(o),1)),64))]),_:1},512)]),_:1}),c(v,{class:"scrollbar-wrapper"},{footer:m(()=>[c(p,null,{default:m(()=>[c(b,{value:N(l),"onUpdate:value":s[4]||(s[4]=o=>I(l)?l.value=o:null),step:100,placeholder:"scrollTo"},null,8,["value"]),c(f,{type:"primary",onClick:s[5]||(s[5]=o=>n("x"))},{default:m(()=>[L("scroll")]),_:1})]),_:1})]),default:m(()=>[c(N(F),{ref_key:"scrollBarXRef",ref:_,"x-scrollable":"",always:""},{default:m(()=>[z("div",he,[(T(),R(O,null,j(40,o=>z("p",{key:o,class:"p p2"},U(o),1)),64))])]),_:1},512)]),_:1})]),_:1})]),_:1})}}});const ge=C(be,[["__scopeId","data-v-65cf3b1a"],["__file","/home/runner/work/naive-admin/naive-admin/src/views/set/system-set.vue"]]);export{ge as default};
