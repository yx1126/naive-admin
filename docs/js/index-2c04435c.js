import{J as H,aH as q,L as R,M as F,K as D,d as B,G as de,aQ as he,B as oe,aR as pe,a4 as fe,h as G,j as y,k as z,p as S,f as V,g as b,aD as le,af as W,aN as me,aS as _e,_ as K,aT as P,l as t,aU as ge,m as g,aV as ve,v as se,aW as be,ac as E,y as U,Q as ke,aX as ee,a7 as we,aa as I,aY as xe,F as ye,n as $e,x as te,aZ as Ce,D as Se,a_ as ze,a$ as Be,b0 as Te,b1 as Re}from"../assets/index-9c5b5408.js";import{N as ae}from"./RadioGroup-06900a0f.js";import{_ as re,P as Ve}from"./PlusOutlined-020faa0d.js";import{u as Ie,F as Fe}from"./use-fullscreen-4873b57e.js";import{F as Oe,R as Le}from"./ReloadOutlined-bb09ffba.js";import{_ as Ee}from"./Dropdown-7d0a4aba.js";import{c as Ue}from"./index-e6578343.js";const c="0!important",ce="-1px!important";function O(e){return F(e+"-type",[R("& +",[H("button",{},[F(e+"-type",[D("border",{borderLeftWidth:c}),D("state-border",{left:ce})])])])])}function L(e){return F(e+"-type",[R("& +",[H("button",[F(e+"-type",[D("border",{borderTopWidth:c}),D("state-border",{top:ce})])])])])}const Ae=H("button-group",`
 flex-wrap: nowrap;
 display: inline-flex;
 position: relative;
`,[q("vertical",{flexDirection:"row"},[q("rtl",[H("button",[R("&:first-child:not(:last-child)",`
 margin-right: ${c};
 border-top-right-radius: ${c};
 border-bottom-right-radius: ${c};
 `),R("&:last-child:not(:first-child)",`
 margin-left: ${c};
 border-top-left-radius: ${c};
 border-bottom-left-radius: ${c};
 `),R("&:not(:first-child):not(:last-child)",`
 margin-left: ${c};
 margin-right: ${c};
 border-radius: ${c};
 `),O("default"),F("ghost",[O("primary"),O("info"),O("success"),O("warning"),O("error")])])])]),F("vertical",{flexDirection:"column"},[H("button",[R("&:first-child:not(:last-child)",`
 margin-bottom: ${c};
 margin-left: ${c};
 margin-right: ${c};
 border-bottom-left-radius: ${c};
 border-bottom-right-radius: ${c};
 `),R("&:last-child:not(:first-child)",`
 margin-top: ${c};
 margin-left: ${c};
 margin-right: ${c};
 border-top-left-radius: ${c};
 border-top-right-radius: ${c};
 `),R("&:not(:first-child):not(:last-child)",`
 margin: ${c};
 border-radius: ${c};
 `),L("default"),F("ghost",[L("primary"),L("info"),L("success"),L("warning"),L("error")])])])]),Me={size:{type:String,default:void 0},vertical:Boolean},Ne=B({name:"ButtonGroup",props:Me,setup(e){const{mergedClsPrefixRef:n,mergedRtlRef:a}=de(e);return he("-button-group",Ae,n),oe(pe,e),{rtlEnabled:fe("ButtonGroup",a,n),mergedClsPrefix:n}},render(){const{mergedClsPrefix:e}=this;return G("div",{class:[`${e}-button-group`,this.rtlEnabled&&`${e}-button-group--rtl`,this.vertical&&`${e}-button-group--vertical`],role:"group"},this.$slots)}}),He={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},De=S("path",{d:"M840 836H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm0-724H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM610.8 378c6 0 9.4-7 5.7-11.7L515.7 238.7a7.14 7.14 0 0 0-11.3 0L403.6 366.3a7.23 7.23 0 0 0 5.7 11.7H476v268h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V378h62.8z",fill:"currentColor"},null,-1),Pe=[De],je=B({name:"ColumnHeightOutlined",render:function(n,a){return y(),z("svg",He,Pe)}}),Ge={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},We=S("path",{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z",fill:"currentColor"},null,-1),Ke=[We],Qe=B({name:"DeleteOutlined",render:function(n,a){return y(),z("svg",Ge,Ke)}}),Je={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},Xe=S("path",{d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z",fill:"currentColor"},null,-1),Ye=[Xe],Ze=B({name:"DownloadOutlined",render:function(n,a){return y(),z("svg",Je,Ye)}}),qe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},et=S("path",{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3l-362.7 362.6l-88.9 15.7l15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z",fill:"currentColor"},null,-1),tt=[et],nt=B({name:"EditOutlined",render:function(n,a){return y(),z("svg",qe,tt)}}),ot={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},lt=S("path",{d:"M762 164h-64c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V172c0-4.4-3.6-8-8-8zm-508 0v72.4c0 9.5 4.2 18.4 11.4 24.5L564.6 512L265.4 763.1c-7.2 6.1-11.4 15-11.4 24.5V860c0 6.8 7.9 10.5 13.1 6.1L689 512L267.1 157.9A7.95 7.95 0 0 0 254 164z",fill:"currentColor"},null,-1),st=[lt],at=B({name:"VerticalLeftOutlined",render:function(n,a){return y(),z("svg",ot,st)}}),rt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},ct=S("path",{d:"M326 164h-64c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V172c0-4.4-3.6-8-8-8zm444 72.4V164c0-6.8-7.9-10.5-13.1-6.1L335 512l421.9 354.1c5.2 4.4 13.1.7 13.1-6.1v-72.4c0-9.4-4.2-18.4-11.4-24.5L459.4 512l299.2-251.1c7.2-6.1 11.4-15.1 11.4-24.5z",fill:"currentColor"},null,-1),it=[ct],ut=B({name:"VerticalRightOutlined",render:function(n,a){return y(),z("svg",rt,it)}});function ne(e){return e==null?void 0:e.map(n=>({hidden:!1,fixed:!1,...n}))}function dt(e){const n=V(ne(e.columns)),a=V(!!e.showCheck),o=V(!!e.showIndex);function u(){a.value=!!e.showCheck,o.value=!!e.showIndex,n.value=ne(e.columns)}const w=b(()=>(n.value||[]).reduce((d,r)=>(r.fixed==="left"?d.left.push(r):r.fixed==="right"?d.right.push(r):d.middle.push(r),d),{left:[],middle:[],right:[]})),p=b(()=>{const{columns:d,pagination:r,page:x,size:$,showCheck:f,showIndex:m}=e;if(!d)return;const{left:l,middle:k,right:s}=w.value,_=[...l,...k,...s].filter(v=>!v.hidden),A=(d||[]).some(v=>v.type==="selection"),M=r!==!1&&x>0?(x-1)*$:0;return o.value&&_.unshift({title:"序号",key:"index",align:"center",fixed:f==="left"||l.length>0?"left":m,width:80,render:(v,C)=>G("span",M+C+1)}),a.value&&!A&&_.unshift({type:"selection",fixed:l.length>0?"left":f}),_});return{baseColumns:n,columns:p,showCheck:a,showIndex:o,reset:u}}const ht={columns:{type:Array,default:void 0},pagination:{type:[Boolean,Object],default:!0},page:{type:Number,default:1},size:{type:Number,default:10},total:{type:Number,default:0},showCheck:{type:[Boolean,String],default:!1},showIndex:{type:[Boolean,String],default:!1},striped:{type:Boolean,default:!1}},pt=B({name:"TableRender",components:{NDataTable:re,NEmpty:le},inheritAttrs:!1,props:ht,emits:["update:page","update:size","page-change"],setup(e,{emit:n,expose:a}){const o=V(),u=V(null),w=W(),{isFullScreen:p,toggle:d}=Ie(o),{baseColumns:r,columns:x,showCheck:$,showIndex:f,reset:m}=dt(e),l=V("medium"),k=V(e.striped),s=b(()=>({"--icon-hover-color":w.themeColor,"--table-wrapper-back":w.navMode==="diablo"?"":"#fff"}));oe(ie,me({columns:r,size:l,showStriped:k,isFullScreen:p,showCheck:$,showIndex:f,toggleFull:d,reset:m,setFixed:A,setValue:v,onUpdateCheckAll:M}));const _=b(()=>{const{pagination:i,page:h,size:T,total:ue}=e,Z=Object.assign({page:h,pageSize:T,itemCount:ue,pageSizes:[10,20,30,40,50,100],pageSlot:7,showSizePicker:!0,showQuickJumper:!0,prefix:({itemCount:N})=>G("span",null,`共${N}条`),onUpdatePage:N=>{n("update:page",N),n("page-change")},onUpdatePageSize:N=>{n("update:size",N),n("page-change")}},i);return _e(i)?i?Z:!1:Z});function A(i,h){r.value&&(r.value[h].fixed=i)}function M(i,h){if(r.value){if(h!==void 0){r.value[h].hidden=i;return}r.value.forEach(T=>{T.hidden=i})}}function v(i,h){switch(i){case"size":l.value=h;break;case"showCheck":$.value=h;break;case"showIndex":f.value=h;break;case"showStriped":k.value=h;break}}function C(){var i;(i=u.value)==null||i.clearFilters()}function Q(){var i;(i=u.value)==null||i.clearSorter()}function J(i){var h;(h=u.value)==null||h.filters(i)}function X(i,h){var T;(T=u.value)==null||T.scrollTo(i,h)}function Y(i,h){var T;(T=u.value)==null||T.sort(i,h)}return a({clearFilters:C,clearSorter:Q,filters:J,scrollTo:X,sort:Y}),{tableRenderWrapperRef:o,dataTableRef:u,columns:x,tableSize:l,showStriped:k,tableRenderStyle:s,defaultPagination:_,clearFilters:C,clearSorter:Q,filters:J,scrollTo:X,sort:Y}}});const ft={key:0,class:"table-render-empty"},mt={class:"table-render"};function _t(e,n,a,o,u,w){var r;const p=le,d=re;return y(),z("div",{ref:"tableRenderWrapperRef",class:"table-render-wrapper",style:se(e.tableRenderStyle)},[P(e.$slots,"tool"),e.columns&&((r=e.columns)==null?void 0:r.length)<=0?(y(),z("div",ft,[t(p,{description:"暂无列数据"})])):ge("",!0),S("div",mt,[t(d,ve({ref:"dataTableRef",remote:"",columns:e.columns,striped:e.showStriped,pagination:e.defaultPagination,size:e.tableSize},e.$attrs),{empty:g(()=>[P(e.$slots,"empty")]),_:3},16,["columns","striped","pagination","size"])])],4)}const It=K(pt,[["render",_t],["__file","/home/runner/work/naive-admin/naive-admin/src/components/TableRender/TableRender.vue"]]),j=(e,n)=>{const a=be();n=n||"modelValue";const o=`update:${n.toString()}`;return b({get(){return e[n]},set(u){a.emit(o,u)}})},gt=B({name:"TableSet",components:{NCheckbox:ae,NButton:E,Icon:U,VerticalLeftOutlined:at,VerticalRightOutlined:ut},props:{checkAll:{type:Boolean,default:!1},checkIndex:{type:Boolean,default:!1},checkBox:{type:Boolean,default:!1},columns:{type:Array,default:()=>[]}},emits:["update:checkAll","update:checkIndex","update:checkBox","reset","update:checked","update:fixed"],setup(e,{emit:n}){const a=W(),o=V([]),u=b(()=>({"--icon-hover-color":a.themeColor})),w=j(e,"checkAll"),p=j(e,"checkIndex"),d=j(e,"checkBox");ke(e.columns,f=>{o.value=f},{immediate:!0,deep:!0});function r(){n("reset")}function x(f,m){n("update:checked",{checked:!f,index:m})}function $(f,m,l){n("update:fixed",m.fixed===f?!1:f,l)}return{columnsList:o,tableSetStyle:u,isCheckAll:w,isCheckIndex:p,isCheckBox:d,onReset:r,onFixed:$,onUpdateChecked:x}}});const vt={class:"table-set__header"},bt={class:"index"},kt={class:"text"};function wt(e,n,a,o,u,w){const p=ae,d=E,r=ee("VerticalRightOutlined"),x=U,$=ee("VerticalLeftOutlined"),f=Ne,m=Ce;return y(),we(m,{trigger:"click",placement:"bottom-end","content-style":"padding: 0;"},{trigger:g(()=>[P(e.$slots,"default",{},void 0,!0)]),header:g(()=>[S("div",vt,[t(p,{checked:e.isCheckAll,"onUpdate:checked":n[0]||(n[0]=l=>e.isCheckAll=l)},{default:g(()=>[I("列展示")]),_:1},8,["checked"]),t(p,{checked:e.isCheckIndex,"onUpdate:checked":n[1]||(n[1]=l=>e.isCheckIndex=l)},{default:g(()=>[I("序号列")]),_:1},8,["checked"]),t(p,{checked:e.isCheckBox,"onUpdate:checked":n[2]||(n[2]=l=>e.isCheckBox=l)},{default:g(()=>[I("勾选列")]),_:1},8,["checked"]),t(d,{type:"primary",text:"",onClick:e.onReset},{default:g(()=>[I("重置")]),_:1},8,["onClick"])])]),default:g(()=>[t(xe,{class:"table-set__list",style:se(e.tableSetStyle),tag:"div",name:"list-fade"},{default:g(()=>[(y(!0),z(ye,null,$e(e.columns,(l,k)=>(y(),z("div",{key:l.title+l.key,class:"table-set__list-item"},[S("span",bt,te(k+1),1),t(p,{class:"checkbox",checked:!l.hidden,"onUpdate:checked":s=>e.onUpdateChecked(s,k)},{default:g(()=>[S("span",kt,te(l.title),1)]),_:2},1032,["checked","onUpdate:checked"]),t(f,{size:"tiny"},{default:g(()=>[t(d,{type:l.fixed==="left"?"primary":"default",onClick:s=>e.onFixed("left",l,k)},{icon:g(()=>[t(x,{size:18},{default:g(()=>[t(r)]),_:1})]),_:2},1032,["type","onClick"]),t(d,{type:l.fixed==="right"?"primary":"default",onClick:s=>e.onFixed("right",l,k)},{icon:g(()=>[t(x,{size:18},{default:g(()=>[t($)]),_:1})]),_:2},1032,["type","onClick"])]),_:2},1024)]))),128))]),_:1},8,["style"])]),_:3})}const xt=K(gt,[["render",wt],["__scopeId","data-v-0c3320fb"],["__file","/home/runner/work/naive-admin/naive-admin/src/components/TableRender/components/TableSet.vue"]]);function yt(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Re(e)}const $t=B({name:"TableTool",props:{showBehavior:{type:Boolean,default:!0},tools:{type:Array,default:()=>["striped","full","refresh","size","set"]}},emits:["behavior","refresh"],setup(e,{emit:n}){const a=W(),o=Se(ie);if(!o)throw new Error("[TableRedner/TableTool]：`TableTool` must be placed in `TableRedner`");const u=b(()=>o.columns||[]),w=b(()=>{const s=o.size,_=`color: ${a.themeColor};`;return[{label:"紧凑",key:"small",props:{style:s==="small"?_:""}},{label:"默认",key:"medium",props:{style:s==="medium"?_:""}},{label:"宽松",key:"large",props:{style:s==="large"?_:""}}]}),p=b(()=>u.value.every(s=>!s.hidden)),d=b(()=>o.showIndex),r=b(()=>o.showCheck),x=b(()=>!o.isFullScreen),$=b(()=>o.showStriped),f=b(()=>{const{setValue:s,toggleFull:_,reset:A,setFixed:M}=o;return{striped:()=>m("斑马纹",t(ze,{value:$.value,onUpdateValue:v=>s("showStriped",v)},null)),full:()=>m("表格全屏",t(U,{class:"icon",size:20,onClick:_},{default:()=>[x?t(Fe,null,null):t(Oe,null,null)]})),refresh:()=>m("刷新",t(U,{class:"icon",size:20,onClick:()=>n("refresh")},{default:()=>[t(Le,null,null)]})),size:()=>t(Ee,{trigger:"click",options:w.value,onSelect:v=>s("size",v)},{default:()=>m("密度",t(U,{class:"icon",size:20},{default:()=>[t(je,null,null)]}))}),set:()=>{let v;return t(xt,{checkAll:p.value,checkIndex:d.value,checkBox:r.value,"onUpdate:checkAll":C=>k({checked:!C}),"onUpdate:checkIndex":C=>s("showIndex",C),"onUpdate:checkBox":C=>s("showCheck",C),columns:u.value,onReset:A,"onUpdate:fixed":M,"onUpdate:checked":k},yt(v=m("列设置",t(U,{class:"icon",size:20},{default:()=>[t(Be,null,null)]})))?v:{default:()=>[v]})}}});function m(s,_){return t(Te,null,{default:()=>t("span",null,[s]),trigger:()=>_})}function l(s){n("behavior",s)}function k({checked:s,index:_}){o.onUpdateCheckAll(s,_)}return{onBehavior:l,setListMap:f}},render(){const{$slots:e,tools:n,showBehavior:a,onBehavior:o,setListMap:u}=this;return t("div",{class:"table-render-toolbar"},[t("div",{class:"behavior"},[a?P(e,"behavior",void 0,()=>[t(E,{type:"primary",onClick:()=>o("insert")},{default:()=>t("span",null,[I("新增")]),icon:()=>t(Ve,null,null)}),t(E,{type:"success",onClick:()=>o("update")},{default:()=>t("span",null,[I("修改")]),icon:()=>t(nt,null,null)}),t(E,{type:"error",onClick:()=>o("delete")},{default:()=>t("span",null,[I("删除")]),icon:()=>t(Qe,null,null)}),t(E,{type:"warning",onClick:()=>o("export")},{default:()=>t("span",null,[I("导出")]),icon:()=>t(Ze,null,null)})]):null]),t("div",{class:"set"},[[...new Set(n)].map(w=>{const p=u[w];return p?p():null})])])}});const Ft=K($t,[["__scopeId","data-v-1c775ced"],["__file","/home/runner/work/naive-admin/naive-admin/src/components/TableRender/components/TableTool.vue"]]),ie=Ue("TableTool");export{It as T,Ft as a};
