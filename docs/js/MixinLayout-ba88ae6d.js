import{d as x,u as T,af as N,f as B,g as s,c1 as v,Q as M,l as t,aS as H}from"../assets/index-bb041c26.js";import{M as b,T as O,N as C,L as F,H as U,a as w,b as V}from"./Logo-535facd6.js";import{B as $,N as z,C as I}from"./Breadcrumb-cc162fd0.js";import"./index-6b692666.js";import"./index-e6578343.js";import"./index-c39e1beb.js";import"./RadioGroup-4e0c0f11.js";import"./Forward-35dacf2d.js";import"./InputNumber-3a1b4276.js";import"./Grid-11b7a30a.js";import"./use-fullscreen-3ce92419.js";import"./ReloadOutlined-e958722f.js";import"./Avatar-24d616d1.js";import"./Dropdown-1914d5e9.js";import"./create-ref-setter-f485918b.js";import"./use-deounce-4d6522e5.js";const _=x({name:"MixinLayout",props:{nativeScrollbar:{type:Boolean,default:!0},menuOptions:{type:Array,default:()=>[]},tagsFixed:{type:Boolean,default:!0},collapsed:{type:Boolean,default:!0},inverted:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},onScroll:{type:Function,default:void 0}},emits:["update:collapsed"],setup(n,{emit:f}){const i=T(),u=N(),r=B(!0),m=s(()=>["dark"].includes(u.navMode)),p=s(()=>u.isCutMenu),o=s(()=>{var e;return(e=i.matched.filter(l=>l.path)[0])==null?void 0:e.path}),a=s(()=>u.isShowTabs),c=s(()=>n.tagsFixed&&a.value?v.tagsHeight:0),h=s(()=>{const e=n.menuOptions.find(d=>d.path===o.value),l=((e==null?void 0:e.children)||[]).map(d=>({...d,icon:d.icon||(e==null?void 0:e.icon)}));return p.value?l:n.menuOptions});M(()=>i.fullPath,()=>{i.fullPath.startsWith("/redirect")||(r.value=h.value.length>0)},{immediate:!0});const y=s(()=>{const e={collapsed:n.collapsed,width:64},l={collapsed:!0,width:0};return p.value?r.value?e:l:e});function g(e){f("update:collapsed",e)}return{defaultInverted:m,isCutMenu:p,defaultValue:o,menuChildrensOptions:h,isShowSilder:r,state:y,onUpdateCollapsed:g,isShowTabs:a,contentTop:c}},render(){const{$slots:n,defaultValue:f,defaultInverted:i,menuOptions:u,tagsFixed:r,isShowTabs:m,isCutMenu:p,state:o,inverted:a,nativeScrollbar:c,isShowSilder:h,showTrigger:y,menuChildrensOptions:g,contentTop:e,onUpdateCollapsed:l,onScroll:d}=this,L=t(b,{mode:"horizontal",value:f,collapsed:!1,inverted:i,options:u,"children-field":"noChild"},null),S=m?t(C,{class:"layout-tags",bordered:!0},{default:()=>[t(O,null,null)]}):null;return t(w,{class:"layout-wrapper layout-wrapper-mixin"},{default:()=>[t(C,{class:"layout-header",inverted:i,bordered:!0},{default:()=>[t(F,{width:200,height:v.headerHeight},null),t(U,null,{left:()=>p?L:t($,null,null)})]}),t(w,{"has-sider":!0,position:"absolute",style:`top: ${v.headerHeight}px`},{default:()=>[t("div",{class:"layout-sider-wrapper"},[t(z,{class:"layout-sider",collapsed:o.collapsed,"collapse-mode":"width","collapsed-width":o.width,width:200,bordered:!0,inverted:a,"content-style":"height: 100%;","native-scrollbar":c,"show-trigger":h?y:!1,"onUpdate:collapsed":l},{default:()=>[t(b,{inverted:a,options:g},null)]}),t(I,{class:"mixin-collapse",collapsed:o.collapsed,size:o.collapsed?24:22,width:200,border:a?"top":"top,right",inverted:a,"collapsed-width":o.width},null)]),t(w,{class:"n-layout-main"},{default:()=>[r?S:null,t(V,{class:"layout-content",position:"absolute",style:`top: ${e}px; bottom: 0`,"native-scrollbar":c,onScroll:d},{default:()=>[r?null:S,H(n,"default")]})]})]})]})}});export{_ as default};
