import{a3 as P,aQ as Z,a5 as R,a6 as I,a4 as H,d as B,N as de,bt as he,P as oe,bu as pe,al as fe,h as G,j as y,k as S,p as z,f as F,g as v,aL as le,z as W,b0 as me,bv as _e,_ as J,bw as D,l as t,bx as ge,m as g,S as be,v as se,by as ve,as as L,y as A,B as ke,bz as ee,an as we,aq as V,bA as xe,F as ye,n as $e,x as te,az as Ce,J as ze,bB as Se,bC as Be,bD as Te,bE as Re}from"../assets/index.106b90c3.js";import{u as Fe,F as Ve}from"./use-fullscreen-ea07b08b.js";import{N as re}from"./RadioGroup-2fdeebcb.js";import{F as Ie,R as Oe}from"./ReloadOutlined-1412b06f.js";import{_ as Ee}from"./Dropdown-880d0ee3.js";import{_ as ae,P as Le}from"./PlusOutlined-24ce8772.js";import{c as Ae}from"./index-d95ae7da.js";const c="0!important",ce="-1px!important";function O(e){return I(e+"-type",[R("& +",[P("button",{},[I(e+"-type",[H("border",{borderLeftWidth:c}),H("state-border",{left:ce})])])])])}function E(e){return I(e+"-type",[R("& +",[P("button",[I(e+"-type",[H("border",{borderTopWidth:c}),H("state-border",{top:ce})])])])])}const Ue=P("button-group",`
 flex-wrap: nowrap;
 display: inline-flex;
 position: relative;
`,[Z("vertical",{flexDirection:"row"},[Z("rtl",[P("button",[R("&:first-child:not(:last-child)",`
 margin-right: ${c};
 border-top-right-radius: ${c};
 border-bottom-right-radius: ${c};
 `),R("&:last-child:not(:first-child)",`
 margin-left: ${c};
 border-top-left-radius: ${c};
 border-bottom-left-radius: ${c};
 `),R("&:not(:first-child):not(:last-child)",`
 margin-left: ${c};
 margin-right: ${c};
 border-radius: ${c};
 `),O("default"),I("ghost",[O("primary"),O("info"),O("success"),O("warning"),O("error")])])])]),I("vertical",{flexDirection:"column"},[P("button",[R("&:first-child:not(:last-child)",`
 margin-bottom: ${c};
 margin-left: ${c};
 margin-right: ${c};
 border-bottom-left-radius: ${c};
 border-bottom-right-radius: ${c};
 `),R("&:last-child:not(:first-child)",`
 margin-top: ${c};
 margin-left: ${c};
 margin-right: ${c};
 border-top-left-radius: ${c};
 border-top-right-radius: ${c};
 `),R("&:not(:first-child):not(:last-child)",`
 margin: ${c};
 border-radius: ${c};
 `),E("default"),I("ghost",[E("primary"),E("info"),E("success"),E("warning"),E("error")])])])]),Ne={size:{type:String,default:void 0},vertical:Boolean},Me=B({name:"ButtonGroup",props:Ne,setup(e){const{mergedClsPrefixRef:n,mergedRtlRef:r}=de(e);return he("-button-group",Ue,n),oe(pe,e),{rtlEnabled:fe("ButtonGroup",r,n),mergedClsPrefix:n}},render(){const{mergedClsPrefix:e}=this;return G("div",{class:[`${e}-button-group`,this.rtlEnabled&&`${e}-button-group--rtl`,this.vertical&&`${e}-button-group--vertical`],role:"group"},this.$slots)}}),Pe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},He=z("path",{d:"M840 836H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm0-724H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM610.8 378c6 0 9.4-7 5.7-11.7L515.7 238.7a7.14 7.14 0 0 0-11.3 0L403.6 366.3a7.23 7.23 0 0 0 5.7 11.7H476v268h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V378h62.8z",fill:"currentColor"},null,-1),De=[He],je=B({name:"ColumnHeightOutlined",render:function(n,r){return y(),S("svg",Pe,De)}}),Ge={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},We=z("path",{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z",fill:"currentColor"},null,-1),Je=[We],Ke=B({name:"DeleteOutlined",render:function(n,r){return y(),S("svg",Ge,Je)}}),Qe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},qe=z("path",{d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z",fill:"currentColor"},null,-1),Xe=[qe],Ye=B({name:"DownloadOutlined",render:function(n,r){return y(),S("svg",Qe,Xe)}}),Ze={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},et=z("path",{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3l-362.7 362.6l-88.9 15.7l15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z",fill:"currentColor"},null,-1),tt=[et],nt=B({name:"EditOutlined",render:function(n,r){return y(),S("svg",Ze,tt)}}),ot={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},lt=z("path",{d:"M762 164h-64c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V172c0-4.4-3.6-8-8-8zm-508 0v72.4c0 9.5 4.2 18.4 11.4 24.5L564.6 512L265.4 763.1c-7.2 6.1-11.4 15-11.4 24.5V860c0 6.8 7.9 10.5 13.1 6.1L689 512L267.1 157.9A7.95 7.95 0 0 0 254 164z",fill:"currentColor"},null,-1),st=[lt],rt=B({name:"VerticalLeftOutlined",render:function(n,r){return y(),S("svg",ot,st)}}),at={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},ct=z("path",{d:"M326 164h-64c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V172c0-4.4-3.6-8-8-8zm444 72.4V164c0-6.8-7.9-10.5-13.1-6.1L335 512l421.9 354.1c5.2 4.4 13.1.7 13.1-6.1v-72.4c0-9.4-4.2-18.4-11.4-24.5L459.4 512l299.2-251.1c7.2-6.1 11.4-15.1 11.4-24.5z",fill:"currentColor"},null,-1),it=[ct],ut=B({name:"VerticalRightOutlined",render:function(n,r){return y(),S("svg",at,it)}});function ne(e){return e==null?void 0:e.map(n=>({hidden:!1,fixed:!1,...n}))}function dt(e){const n=F(ne(e.columns)),r=F(!!e.showCheck),o=F(!!e.showIndex);function u(){r.value=!!e.showCheck,o.value=!!e.showIndex,n.value=ne(e.columns)}const w=v(()=>(n.value||[]).reduce((d,a)=>(a.fixed==="left"?d.left.push(a):a.fixed==="right"?d.right.push(a):d.middle.push(a),d),{left:[],middle:[],right:[]})),p=v(()=>{const{columns:d,pagination:a,page:x,size:$,showCheck:f,showIndex:m}=e;if(!d)return;const{left:l,middle:k,right:s}=w.value,_=[...l,...k,...s].filter(b=>!b.hidden),U=(d||[]).some(b=>b.type==="selection"),N=a!==!1&&x>0?(x-1)*$:0;return o.value&&_.unshift({title:"\u5E8F\u53F7",key:"index",align:"center",fixed:f==="left"||l.length>0?"left":m,width:80,render:(b,C)=>G("span",N+C+1)}),r.value&&!U&&_.unshift({type:"selection",fixed:l.length>0?"left":f}),_});return{baseColumns:n,columns:p,showCheck:r,showIndex:o,reset:u}}const ht={columns:{type:Array,default:void 0},pagination:{type:[Boolean,Object],default:!0},page:{type:Number,default:1},size:{type:Number,default:10},total:{type:Number,default:0},showCheck:{type:[Boolean,String],default:!1},showIndex:{type:[Boolean,String],default:!1},striped:{type:Boolean,default:!1}},pt=B({name:"TableRender",components:{NDataTable:ae,NEmpty:le},inheritAttrs:!1,props:ht,emits:["update:page","update:size","page-change"],setup(e,{emit:n,expose:r}){const o=F(),u=F(null),w=W(),{isFullScreen:p,toggle:d}=Fe(o),{baseColumns:a,columns:x,showCheck:$,showIndex:f,reset:m}=dt(e),l=F("medium"),k=F(e.striped),s=v(()=>({"--icon-hover-color":w.themeColor,"--table-wrapper-back":w.navMode==="diablo"?"":"#fff"}));oe(ie,me({columns:a,size:l,showStriped:k,isFullScreen:p,showCheck:$,showIndex:f,toggleFull:d,reset:m,setFixed:U,setValue:b,onUpdateCheckAll:N}));const _=v(()=>{const{pagination:i,page:h,size:T,total:ue}=e,Y=Object.assign({page:h,pageSize:T,itemCount:ue,pageSizes:[10,20,30,40,50,100],pageSlot:7,showSizePicker:!0,showQuickJumper:!0,prefix:({itemCount:M})=>G("span",null,`\u5171${M}\u6761`),onUpdatePage:M=>{n("update:page",M),n("page-change")},onUpdatePageSize:M=>{n("update:size",M),n("page-change")}},i);return _e(i)?i?Y:!1:Y});function U(i,h){!a.value||(a.value[h].fixed=i)}function N(i,h){if(!!a.value){if(h!==void 0){a.value[h].hidden=i;return}a.value.forEach(T=>{T.hidden=i})}}function b(i,h){switch(i){case"size":l.value=h;break;case"showCheck":$.value=h;break;case"showIndex":f.value=h;break;case"showStriped":k.value=h;break}}function C(){var i;(i=u.value)==null||i.clearFilters()}function K(){var i;(i=u.value)==null||i.clearSorter()}function Q(i){var h;(h=u.value)==null||h.filters(i)}function q(i,h){var T;(T=u.value)==null||T.scrollTo(i,h)}function X(i,h){var T;(T=u.value)==null||T.sort(i,h)}return r({clearFilters:C,clearSorter:K,filters:Q,scrollTo:q,sort:X}),{tableRenderWrapperRef:o,dataTableRef:u,columns:x,tableSize:l,showStriped:k,tableRenderStyle:s,defaultPagination:_,clearFilters:C,clearSorter:K,filters:Q,scrollTo:q,sort:X}}});const ft={key:0,class:"table-render-empty"},mt={class:"table-render"};function _t(e,n,r,o,u,w){var a;const p=le,d=ae;return y(),S("div",{ref:"tableRenderWrapperRef",class:"table-render-wrapper",style:se(e.tableRenderStyle)},[D(e.$slots,"tool"),e.columns&&((a=e.columns)==null?void 0:a.length)<=0?(y(),S("div",ft,[t(p,{description:"\u6682\u65E0\u5217\u6570\u636E"})])):ge("v-if",!0),z("div",mt,[t(d,be({ref:"dataTableRef",remote:"",columns:e.columns,striped:e.showStriped,pagination:e.defaultPagination,size:e.tableSize},e.$attrs),{empty:g(()=>[D(e.$slots,"empty")]),_:3},16,["columns","striped","pagination","size"])])],4)}const Vt=J(pt,[["render",_t],["__file","/home/runner/work/naive-admin/naive-admin/src/components/TableRender/TableRender.vue"]]),j=(e,n)=>{const r=ve();n=n||"modelValue";const o=`update:${n.toString()}`;return v({get(){return e[n]},set(u){r.emit(o,u)}})},gt=B({name:"TableSet",components:{NCheckbox:re,NButton:L,Icon:A,VerticalLeftOutlined:rt,VerticalRightOutlined:ut},props:{checkAll:{type:Boolean,default:!1},checkIndex:{type:Boolean,default:!1},checkBox:{type:Boolean,default:!1},columns:{type:Array,default:()=>[]}},emits:["update:checkAll","update:checkIndex","update:checkBox","reset","update:checked","update:fixed"],setup(e,{emit:n}){const r=W(),o=F([]),u=v(()=>({"--icon-hover-color":r.themeColor})),w=j(e,"checkAll"),p=j(e,"checkIndex"),d=j(e,"checkBox");ke(e.columns,f=>{o.value=f},{immediate:!0,deep:!0});function a(){n("reset")}function x(f,m){n("update:checked",{checked:!f,index:m})}function $(f,m,l){n("update:fixed",m.fixed===f?!1:f,l)}return{columnsList:o,tableSetStyle:u,isCheckAll:w,isCheckIndex:p,isCheckBox:d,onReset:a,onFixed:$,onUpdateChecked:x}}});const bt={class:"table-set__header"},vt={class:"index"},kt={class:"text"};function wt(e,n,r,o,u,w){const p=re,d=L,a=ee("VerticalRightOutlined"),x=A,$=ee("VerticalLeftOutlined"),f=Me,m=Ce;return y(),we(m,{trigger:"click",placement:"bottom-end","content-style":"padding: 0;"},{trigger:g(()=>[D(e.$slots,"default",{},void 0,!0)]),header:g(()=>[z("div",bt,[t(p,{checked:e.isCheckAll,"onUpdate:checked":n[0]||(n[0]=l=>e.isCheckAll=l)},{default:g(()=>[V("\u5217\u5C55\u793A")]),_:1},8,["checked"]),t(p,{checked:e.isCheckIndex,"onUpdate:checked":n[1]||(n[1]=l=>e.isCheckIndex=l)},{default:g(()=>[V("\u5E8F\u53F7\u5217")]),_:1},8,["checked"]),t(p,{checked:e.isCheckBox,"onUpdate:checked":n[2]||(n[2]=l=>e.isCheckBox=l)},{default:g(()=>[V("\u52FE\u9009\u5217")]),_:1},8,["checked"]),t(d,{type:"primary",text:"",onClick:e.onReset},{default:g(()=>[V("\u91CD\u7F6E")]),_:1},8,["onClick"])])]),default:g(()=>[t(xe,{class:"table-set__list",style:se(e.tableSetStyle),tag:"div",name:"list-fade"},{default:g(()=>[(y(!0),S(ye,null,$e(e.columns,(l,k)=>(y(),S("div",{key:l.title+l.key,class:"table-set__list-item"},[z("span",vt,te(k+1),1),t(p,{class:"checkbox",checked:!l.hidden,"onUpdate:checked":s=>e.onUpdateChecked(s,k)},{default:g(()=>[z("span",kt,te(l.title),1)]),_:2},1032,["checked","onUpdate:checked"]),t(f,{size:"tiny"},{default:g(()=>[t(d,{type:l.fixed==="left"?"primary":"default",onClick:s=>e.onFixed("left",l,k)},{icon:g(()=>[t(x,{size:18},{default:g(()=>[t(a)]),_:1})]),_:2},1032,["type","onClick"]),t(d,{type:l.fixed==="right"?"primary":"default",onClick:s=>e.onFixed("right",l,k)},{icon:g(()=>[t(x,{size:18},{default:g(()=>[t($)]),_:1})]),_:2},1032,["type","onClick"])]),_:2},1024)]))),128))]),_:1},8,["style"])]),_:3})}const xt=J(gt,[["render",wt],["__scopeId","data-v-0c3320fb"],["__file","/home/runner/work/naive-admin/naive-admin/src/components/TableRender/components/TableSet.vue"]]);function yt(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Re(e)}const $t=B({name:"TableTool",props:{showBehavior:{type:Boolean,default:!0},tools:{type:Array,default:()=>["striped","full","refresh","size","set"]}},emits:["behavior","refresh"],setup(e,{emit:n}){const r=W(),o=ze(ie);if(!o)throw new Error("[TableRedner/TableTool]\uFF1A`TableTool` must be placed in `TableRedner`");const u=v(()=>o.columns||[]),w=v(()=>{const s=o.size,_=`color: ${r.themeColor};`;return[{label:"\u7D27\u51D1",key:"small",props:{style:s==="small"?_:""}},{label:"\u9ED8\u8BA4",key:"medium",props:{style:s==="medium"?_:""}},{label:"\u5BBD\u677E",key:"large",props:{style:s==="large"?_:""}}]}),p=v(()=>u.value.every(s=>!s.hidden)),d=v(()=>o.showIndex),a=v(()=>o.showCheck),x=v(()=>!o.isFullScreen),$=v(()=>o.showStriped),f=v(()=>{const{setValue:s,toggleFull:_,reset:U,setFixed:N}=o;return{striped:()=>m("\u6591\u9A6C\u7EB9",t(Se,{value:$.value,onUpdateValue:b=>s("showStriped",b)},null)),full:()=>m("\u8868\u683C\u5168\u5C4F",t(A,{class:"icon",size:20,onClick:_},{default:()=>[x?t(Ve,null,null):t(Ie,null,null)]})),refresh:()=>m("\u5237\u65B0",t(A,{class:"icon",size:20,onClick:()=>n("refresh")},{default:()=>[t(Oe,null,null)]})),size:()=>t(Ee,{trigger:"click",options:w.value,onSelect:b=>s("size",b)},{default:()=>m("\u5BC6\u5EA6",t(A,{class:"icon",size:20},{default:()=>[t(je,null,null)]}))}),set:()=>{let b;return t(xt,{checkAll:p.value,checkIndex:d.value,checkBox:a.value,"onUpdate:checkAll":C=>k({checked:!C}),"onUpdate:checkIndex":C=>s("showIndex",C),"onUpdate:checkBox":C=>s("showCheck",C),columns:u.value,onReset:U,"onUpdate:fixed":N,"onUpdate:checked":k},yt(b=m("\u5217\u8BBE\u7F6E",t(A,{class:"icon",size:20},{default:()=>[t(Be,null,null)]})))?b:{default:()=>[b]})}}});function m(s,_){return t(Te,null,{default:()=>t("span",null,[s]),trigger:()=>_})}function l(s){n("behavior",s)}function k({checked:s,index:_}){o.onUpdateCheckAll(s,_)}return{onBehavior:l,setListMap:f}},render(){const{$slots:e,tools:n,showBehavior:r,onBehavior:o,setListMap:u}=this;return t("div",{class:"table-render-toolbar"},[t("div",{class:"behavior"},[r?D(e,"behavior",void 0,()=>[t(L,{type:"primary",onClick:()=>o("insert")},{default:()=>t("span",null,[V("\u65B0\u589E")]),icon:()=>t(Le,null,null)}),t(L,{type:"success",onClick:()=>o("update")},{default:()=>t("span",null,[V("\u4FEE\u6539")]),icon:()=>t(nt,null,null)}),t(L,{type:"error",onClick:()=>o("delete")},{default:()=>t("span",null,[V("\u5220\u9664")]),icon:()=>t(Ke,null,null)}),t(L,{type:"warning",onClick:()=>o("export")},{default:()=>t("span",null,[V("\u5BFC\u51FA")]),icon:()=>t(Ye,null,null)})]):null]),t("div",{class:"set"},[[...new Set(n)].map(w=>{const p=u[w];return p?p():null})])])}});const It=J($t,[["__file","/home/runner/work/naive-admin/naive-admin/src/components/TableRender/components/TableTool.vue"]]),ie=Ae("TableTool");export{Vt as T,It as a};
