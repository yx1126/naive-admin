import{d as z,u as E,af as F,c3 as I,f as V,g as a,c2 as $,Q as P,_ as N,aX as r,j as O,a7 as H,m as t,p as U,l as o,v as M,aU as W,aT as X}from"../assets/index-5b64e5b7.js";import{H as j,T as Q,M as R,L as Y,_ as A,a as q,b as D}from"./Logo-d0377ac8.js";import{C as G,B as J,_ as K}from"./Breadcrumb-abf5f7bb.js";import"./index-a79e76d2.js";import"./index-e6578343.js";import"./index-b7cd5c73.js";import"./RadioGroup-ac705a5e.js";import"./Forward-faad63c2.js";import"./InputNumber-6edd9413.js";import"./Grid-18e6bf2a.js";import"./use-fullscreen-d89898de.js";import"./ReloadOutlined-5a3cf4b0.js";import"./Avatar-96c0c54d.js";import"./Dropdown-a02b5f15.js";import"./create-ref-setter-f485918b.js";import"./use-deounce-88267e9e.js";const Z=z({name:"AsideMixinLayout",components:{Header:j,Tags:Q,Menu:R,Logo:Y,Collapse:G,Breadcrumb:J},props:{nativeScrollbar:{type:Boolean,default:!0},menuOptions:{type:Array,default:()=>[]},headerFixed:{type:Boolean,default:!0},tagsFixed:{type:Boolean,default:!0},collapsed:{type:Boolean,default:!0},inverted:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},onScroll:{type:Function,default:void 0}},emits:["update:collapsed"],setup(e,{emit:L}){const p=E(),c=F(),m=I(),s=V(!1),n=V(""),g=a(()=>["dark"].includes(c.navMode)),d=a(()=>c.isShowTabs),_=a(()=>e.tagsFixed&&d.value?$.tagsHeight:0),f=a(()=>{var l;return(l=p.matched.filter(v=>v.path)[0])==null?void 0:l.path}),b=a(()=>e.collapsed?e.menuOptions.map(l=>({...l,name:void 0})):e.menuOptions),u=a(()=>{var l;return((l=e.menuOptions.find(v=>n.value?v.path===n.value:v.path===f.value))==null?void 0:l.children)||[]}),w=a(()=>({"--theme-color":c.themeColor})),C=a(()=>`transition: transform 0.3s ${m.value.cubicBezierEaseInOut}; transform: translateX(50%) translateY(-50%) rotate(${e.collapsed?180:0}deg)`),S=a(()=>s.value?"":`transition: right 0.3s ${m.value.cubicBezierEaseInOut}; right: -${s.value?28:188}px`),h=a(()=>["arrow-circle",!0].includes(e.showTrigger)),y=a(()=>e.showTrigger==="bar"?"bar":h.value&&s.value?"arrow-circle":!1);P(()=>p.fullPath,()=>{p.fullPath.startsWith("/redirect")||B()},{immediate:!0});function i(){L("update:collapsed",!e.collapsed)}function k(l){return{onmouseenter:()=>{if(l.isLink){T();return}n.value=l.path,B()},onmouseleave:()=>{u.value.length<=0&&T()}}}function T(){n.value="",B()}function B(){s.value=u.value.length<=0}return{defaultInverted:g,defaultValue:f,isShowTabs:d,contentTop:_,rootMenuOptions:b,menuChildrensOptions:u,layoutWrapperStyle:w,isCollapsed:s,themeVars:m,nodeProps:k,arrowCircleTriggerStyle:C,triggerStyle:S,isArrowCircle:h,isShowTrigger:y,onUpdateCollapsed:i,onClearEnterValue:T,LayoutConfig:$}}}),x={class:"layout-sider-wrapper"};function ee(e,L,p,c,m,s){const n=r("Logo"),g=r("Menu"),d=K,_=r("Collapse"),f=r("Breadcrumb"),b=r("Header"),u=A,w=r("Tags"),C=A,S=r("Portal"),h=r("portal-target"),y=q,i=D;return O(),H(i,{class:"layout-wrapper layout-wrapper-asidemixin","has-sider":"",position:"absolute",style:M(e.layoutWrapperStyle)},{default:t(()=>[U("div",x,[o(d,{class:"layout-sider",collapsed:e.collapsed,"collapse-mode":"width",width:140,inverted:e.defaultInverted,bordered:"","native-scrollbar":e.nativeScrollbar,"collapsed-trigger-style":e.triggerStyle,"trigger-style":e.triggerStyle,"show-trigger":e.isShowTrigger,"on-update:collapsed":e.onUpdateCollapsed},{default:t(()=>[o(n,{collapsed:e.collapsed,width:"auto",height:e.LayoutConfig.headerHeight,indent:10,onMouseenter:e.onClearEnterValue},null,8,["collapsed","height","onMouseenter"]),o(g,{style:{"--n-item-height":"36px"},options:e.rootMenuOptions,value:e.defaultValue,"root-indent":10,"collapsed-icon-size":20,"children-field":"noChild","node-props":e.nodeProps},null,8,["options","value","node-props"])]),_:1},8,["collapsed","inverted","native-scrollbar","collapsed-trigger-style","trigger-style","show-trigger","on-update:collapsed"]),o(_,{class:"mixin-collapse",collapsed:e.collapsed,size:e.collapsed?24:22,width:140,border:e.defaultInverted?"top":"top,right",inverted:e.defaultInverted,"collapsed-width":48},null,8,["collapsed","size","border","inverted"])]),o(i,{class:"n-layout-main"},{default:t(()=>[o(u,{class:"layout-header",bordered:"",inverted:e.inverted,position:"absolute"},{default:t(()=>[o(b,null,{left:t(()=>[o(f,{class:"breadcrumb"})]),_:1})]),_:1},8,["inverted"]),o(y,{position:"absolute",style:M(`top: ${e.LayoutConfig.headerHeight}px;`)},{default:t(()=>[o(i,{"has-sider":"",style:{height:"100%"}},{default:t(()=>[o(d,{class:"layout-sider-child",collapsed:e.isCollapsed,"collapse-mode":"transform",width:160,"collapsed-width":0,bordered:"","native-scrollbar":e.nativeScrollbar,"trigger-style":e.isArrowCircle?e.arrowCircleTriggerStyle:"","show-trigger":e.isArrowCircle?e.isCollapsed?!1:"arrow-circle":!1,"on-update:collapsed":e.onUpdateCollapsed,onMouseleave:e.onClearEnterValue},{default:t(()=>[o(g,{collapsed:!1,inverted:!1,options:e.menuChildrensOptions,indent:15},null,8,["options"])]),_:1},8,["collapsed","native-scrollbar","trigger-style","show-trigger","on-update:collapsed","onMouseleave"]),o(i,null,{default:t(()=>[o(S,{to:"layout-tags",disabled:e.tagsFixed},{default:t(()=>[e.isShowTabs?(O(),H(C,{key:0,class:"layout-tags",bordered:"",position:e.tagsFixed?"absolute":"static"},{default:t(()=>[o(w)]),_:1},8,["position"])):W("",!0)]),_:1},8,["disabled"]),o(y,{class:"layout-content",position:"absolute",style:M(`top: ${e.contentTop}px; bottom: 0`),"native-scrollbar":e.nativeScrollbar,"on-scroll":e.onScroll},{default:t(()=>[o(h,{name:"layout-tags"}),X(e.$slots,"default")]),_:3},8,["style","native-scrollbar","on-scroll"])]),_:3})]),_:3})]),_:3},8,["style"])]),_:3})]),_:3},8,["style"])}const ye=N(Z,[["render",ee],["__file","/home/runner/work/naive-admin/naive-admin/src/Layout/layout/AsideMixinLayout.vue"]]);export{ye as default};
