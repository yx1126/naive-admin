import{d as z,u as E,z as F,cW as A,f as O,g as s,cN as T,B as I,l as e,bw as P}from"../assets/index.d6b43ed6.js";import{T as U,N as V,L as W,M as N,a as y,H as k,b as M}from"./Logo-844c93a6.js";import{N as $,C as R,B as X}from"./Breadcrumb-234a3ab5.js";import"./use-fullscreen-125c7bd2.js";import"./index-21b19463.js";import"./index-d95ae7da.js";import"./index-b63fe6ac.js";import"./Grid-93c08250.js";import"./RadioGroup-ea284cc8.js";import"./Forward-a95e0edf.js";import"./InputNumber-4735cc08.js";import"./ReloadOutlined-825ff2de.js";import"./Avatar-1b1f1f5d.js";import"./Dropdown-def438e3.js";import"./create-ref-setter-2fcdeee9.js";import"./use-deounce-a32077f7.js";const se=z({name:"AsideMixinLayout",props:{nativeScrollbar:{type:Boolean,default:!0},menuOptions:{type:Array,default:()=>[]},headerFixed:{type:Boolean,default:!0},tagsFixed:{type:Boolean,default:!0},collapsed:{type:Boolean,default:!0},inverted:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},onScroll:{type:Function,default:void 0}},emits:["update:collapsed"],setup(l,{emit:h}){const a=E(),o=F(),f=A(),m=O(!1),r=O(""),v=s(()=>["dark"].includes(o.navMode)),n=s(()=>o.isShowTabs),p=s(()=>l.tagsFixed&&n.value?T.tagsHeight:0),g=s(()=>{var t;return(t=a.matched.filter(d=>d.path)[0])==null?void 0:t.path}),b=s(()=>l.collapsed?l.menuOptions.map(t=>({...t,name:void 0})):l.menuOptions),c=s(()=>{var t;return((t=l.menuOptions.find(d=>r.value?d.path===r.value:d.path===g.value))==null?void 0:t.children)||[]}),w=s(()=>({"--theme-color":o.themeColor}));I(()=>a.fullPath,()=>{a.fullPath.startsWith("/redirect")||u()},{immediate:!0});function C(){h("update:collapsed",!l.collapsed)}function S(t){return{onmouseenter:()=>{if(t.isLink){i();return}r.value=t.path,u()},onmouseleave:()=>{c.value.length<=0&&i()}}}function i(){r.value="",u()}function u(){m.value=c.value.length<=0}return{defaultInverted:v,defaultValue:g,isShowTabs:n,contentTop:p,rootMenuOptions:b,menuChildrensOptions:c,layoutWrapperStyle:w,isCollapsed:m,themeVars:f,nodeProps:S,onUpdateCollapsed:C,onClearEnterValue:i}},render(){const{$slots:l,themeVars:h,collapsed:a,isCollapsed:o,showTrigger:f,isShowTabs:m,tagsFixed:r,layoutWrapperStyle:v,defaultInverted:n,nativeScrollbar:p,rootMenuOptions:g,menuChildrensOptions:b,defaultValue:c,nodeProps:w,inverted:C,contentTop:S,onUpdateCollapsed:i,onClearEnterValue:u,onScroll:t}=this,d=`transition: transform 0.3s ${h.cubicBezierEaseInOut}; transform: translateX(50%) translateY(-50%) rotate(${a?180:0}deg)`,B=o?"":`transition: right 0.3s ${h.cubicBezierEaseInOut}; right: -${o?28:188}px`,x=["arrow-circle",!0].includes(f),H=f==="bar"?"bar":x&&o?"arrow-circle":!1,L=m?e(V,{class:"layout-tags",bordered:!0,position:r?"absolute":"static"},{default:()=>[e(U,null,null)]}):null;return e(y,{class:"layout-wrapper layout-wrapper-asidemixin","has-sider":!0,position:"absolute",style:v},{default:()=>[e("div",{class:"layout-sider-wrapper"},[e($,{class:"layout-sider",collapsed:a,"collapse-mode":"width",width:140,inverted:n,bordered:!0,"native-scrollbar":p,"collapsed-trigger-style":B,"trigger-style":B,"show-trigger":H,"onUpdate:collapsed":i},{default:()=>[e(W,{collapsed:a,width:"auto",height:T.headerHeight,indent:10,onmouseenter:u},null),e(N,{style:"--n-item-height: 36px;",options:g,value:c,"root-indent":10,"collapsed-icon-size":20,"children-field":"noChild","node-props":w},null)]}),e(R,{class:"mixin-collapse",collapsed:a,size:a?24:22,width:140,border:n?"top":"top,right",inverted:n,"collapsed-width":48},null)]),e(y,{class:"n-layout-main"},{default:()=>[e(V,{class:"layout-header",bordered:!0,inverted:C,position:"absolute"},{default:()=>[e(k,null,{left:()=>e(X,{class:"breadcrumb"},null)})]}),e(M,{position:"absolute",style:`top: ${T.headerHeight}px;`},{default:()=>[e(y,{"has-sider":!0,style:"height: 100%;"},{default:()=>[e($,{class:"layout-sider-child",collapsed:o,"collapse-mode":"transform",width:160,"collapsed-width":0,bordered:!0,"native-scrollbar":p,"trigger-style":x?d:"","show-trigger":x?o?!1:"arrow-circle":!1,"onUpdate:collapsed":i,onmouseleave:u},{default:()=>[e(N,{collapsed:!1,inverted:!1,options:b,indent:15},null)]}),e(y,null,{default:()=>[r?L:null,e(M,{class:"layout-content",position:"absolute",style:`top: ${S}px; bottom: 0`,"native-scrollbar":p,onScroll:t},{default:()=>[r?null:L,P(l,"default")]})]})]})]})]})]})}});export{se as default};
