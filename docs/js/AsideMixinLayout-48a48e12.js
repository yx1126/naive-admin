import{d as E,u as F,af as z,c2 as A,f as O,g as s,c1 as T,Q as I,l as e,aS as P}from"../assets/index-bb041c26.js";import{T as U,N as V,L as W,M,a as y,H as k,b as N}from"./Logo-535facd6.js";import{N as $,C as Q,B as R}from"./Breadcrumb-cc162fd0.js";import"./index-6b692666.js";import"./index-e6578343.js";import"./index-c39e1beb.js";import"./RadioGroup-4e0c0f11.js";import"./Forward-35dacf2d.js";import"./InputNumber-3a1b4276.js";import"./Grid-11b7a30a.js";import"./use-fullscreen-3ce92419.js";import"./ReloadOutlined-e958722f.js";import"./Avatar-24d616d1.js";import"./Dropdown-1914d5e9.js";import"./create-ref-setter-f485918b.js";import"./use-deounce-4d6522e5.js";const se=E({name:"AsideMixinLayout",props:{nativeScrollbar:{type:Boolean,default:!0},menuOptions:{type:Array,default:()=>[]},headerFixed:{type:Boolean,default:!0},tagsFixed:{type:Boolean,default:!0},collapsed:{type:Boolean,default:!0},inverted:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},onScroll:{type:Function,default:void 0}},emits:["update:collapsed"],setup(l,{emit:f}){const a=F(),o=z(),h=A(),m=O(!1),r=O(""),v=s(()=>["dark"].includes(o.navMode)),n=s(()=>o.isShowTabs),p=s(()=>l.tagsFixed&&n.value?T.tagsHeight:0),g=s(()=>{var t;return(t=a.matched.filter(d=>d.path)[0])==null?void 0:t.path}),b=s(()=>l.collapsed?l.menuOptions.map(t=>({...t,name:void 0})):l.menuOptions),c=s(()=>{var t;return((t=l.menuOptions.find(d=>r.value?d.path===r.value:d.path===g.value))==null?void 0:t.children)||[]}),w=s(()=>({"--theme-color":o.themeColor}));I(()=>a.fullPath,()=>{a.fullPath.startsWith("/redirect")||u()},{immediate:!0});function S(){f("update:collapsed",!l.collapsed)}function C(t){return{onmouseenter:()=>{if(t.isLink){i();return}r.value=t.path,u()},onmouseleave:()=>{c.value.length<=0&&i()}}}function i(){r.value="",u()}function u(){m.value=c.value.length<=0}return{defaultInverted:v,defaultValue:g,isShowTabs:n,contentTop:p,rootMenuOptions:b,menuChildrensOptions:c,layoutWrapperStyle:w,isCollapsed:m,themeVars:h,nodeProps:C,onUpdateCollapsed:S,onClearEnterValue:i}},render(){const{$slots:l,themeVars:f,collapsed:a,isCollapsed:o,showTrigger:h,isShowTabs:m,tagsFixed:r,layoutWrapperStyle:v,defaultInverted:n,nativeScrollbar:p,rootMenuOptions:g,menuChildrensOptions:b,defaultValue:c,nodeProps:w,inverted:S,contentTop:C,onUpdateCollapsed:i,onClearEnterValue:u,onScroll:t}=this,d=`transition: transform 0.3s ${f.cubicBezierEaseInOut}; transform: translateX(50%) translateY(-50%) rotate(${a?180:0}deg)`,L=o?"":`transition: right 0.3s ${f.cubicBezierEaseInOut}; right: -${o?28:188}px`,x=["arrow-circle",!0].includes(h),H=h==="bar"?"bar":x&&o?"arrow-circle":!1,B=m?e(V,{class:"layout-tags",bordered:!0,position:r?"absolute":"static"},{default:()=>[e(U,null,null)]}):null;return e(y,{class:"layout-wrapper layout-wrapper-asidemixin","has-sider":!0,position:"absolute",style:v},{default:()=>[e("div",{class:"layout-sider-wrapper"},[e($,{class:"layout-sider",collapsed:a,"collapse-mode":"width",width:140,inverted:n,bordered:!0,"native-scrollbar":p,"collapsed-trigger-style":L,"trigger-style":L,"show-trigger":H,"onUpdate:collapsed":i},{default:()=>[e(W,{collapsed:a,width:"auto",height:T.headerHeight,indent:10,onmouseenter:u},null),e(M,{style:"--n-item-height: 36px;",options:g,value:c,"root-indent":10,"collapsed-icon-size":20,"children-field":"noChild","node-props":w},null)]}),e(Q,{class:"mixin-collapse",collapsed:a,size:a?24:22,width:140,border:n?"top":"top,right",inverted:n,"collapsed-width":48},null)]),e(y,{class:"n-layout-main"},{default:()=>[e(V,{class:"layout-header",bordered:!0,inverted:S,position:"absolute"},{default:()=>[e(k,null,{left:()=>e(R,{class:"breadcrumb"},null)})]}),e(N,{position:"absolute",style:`top: ${T.headerHeight}px;`},{default:()=>[e(y,{"has-sider":!0,style:"height: 100%;"},{default:()=>[e($,{class:"layout-sider-child",collapsed:o,"collapse-mode":"transform",width:160,"collapsed-width":0,bordered:!0,"native-scrollbar":p,"trigger-style":x?d:"","show-trigger":x?o?!1:"arrow-circle":!1,"onUpdate:collapsed":i,onmouseleave:u},{default:()=>[e(M,{collapsed:!1,inverted:!1,options:b,indent:15},null)]}),e(y,null,{default:()=>[r?B:null,e(N,{class:"layout-content",position:"absolute",style:`top: ${C}px; bottom: 0`,"native-scrollbar":p,onScroll:t},{default:()=>[r?null:B,P(l,"default")]})]})]})]})]})]})}});export{se as default};
